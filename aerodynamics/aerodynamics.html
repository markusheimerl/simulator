<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>A formalization of co-axial rotored aerodynamics</title>
    <link rel="stylesheet" href="/lib/pubcss-ieee.css" />
    <style>
      .katex-display {
        overflow-x: auto;
        overflow-y: hidden;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
      integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV"
      crossorigin="anonymous"
    />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
      integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
      integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script>
  </head>

  <body>
    <header class="col-span">
      <h1 class="title counter-skip">
        A formalization of co-axial rotored aerodynamics
      </h1>
      <div class="authors">
        <div class="author">
          <div>Markus Heimerl</div>
          <div>Ratisbon Robotics</div>
          <div>Regensburg, Germany</div>
          <div>markusheimerl@ratisbonrobotics.com</div>
        </div>
      </div>
    </header>

    <div class="abstract">
      <p>
        <em>Abstract</em>—This paper presents a comprehensive formalization of
        the aerodynamics associated with co-axial rotored drones. Integrating
        multidisciplinary concepts from fluid dynamics, aerodynamics, and
        robotics, this study models and simulates the behavior of these drones
        in three-dimensional space. Our framework establishes a foundational
        understanding of drone dynamics, crucial for the design and control of
        co-axial rotored aerial vehicles. The mathematical formulation presented
        here encompasses spatial dynamics, state representation, and the
        evolution of drone states over time. This is grounded in classical
        physics and modern aerodynamic principles, with special emphasis on the
        unique challenges presented by co-axial rotor configurations.
      </p>
      <p>
        <em>Keywords</em>—Co-axial Rotors, Drone Aerodynamics, Spatial Dynamics,
        State Representation, Fluid Dynamics, Robotics, Theoretical Modelling,
        Computational Simulations, Newtonian Mechanics, Aerodynamics
      </p>
    </div>

    <h1>Introduction</h1>
    <section>
      <p>
        The advent of drones, especially those with co-axial rotors, has
        significantly influenced various fields, including logistics,
        surveillance, research, and rescue operations. Co-axial rotored drones,
        with their enhanced stability and maneuverability over traditional
        single-rotor configurations, represent a technological evolution in
        aerial vehicles. However, the intricate aerodynamics of these systems
        present substantial challenges for both theoretical comprehension and
        practical implementation. This paper seeks to elucidate the aerodynamics
        of co-axial rotored drones by developing a rigorous mathematical
        framework. This framework not only characterizes their behavior in
        three-dimensional space but also underscores the complex interplay of
        forces and torques in their operation. Beginning with a detailed
        exposition of the drone's state representation, the paper progresses to
        an in-depth analysis of the dynamics formulation. This includes an
        examination of the forces and torques involved, and their resultant
        impact on drone motion. The integration of mechanical structure and
        aerodynamic forces reveals the intricate principles governing drone
        flight. Supported by comprehensive simulations, our theoretical
        framework provides both an academic and practical perspective, shaping
        the future trajectory of drone technology and its myriad applications.
      </p>
    </section>

    <h1>Spatial Dynamics</h1>
    <section>
      <h2>State Representation</h2>
      <p>
        The vector-valued function, \(\mathbf{X}(t)\), entirely describes the
        drone's state at a point in time.
      </p>
      <!-- prettier-ignore -->
      <div class="equation">
        \[
          \mathbf{X} : \mathbb{R}^{12} \to \mathbb{R}^{12}, \mathbf{X}_i : \mathbb{R} \to \mathbb{R} \\
          \mathbf{X}(t) =
          \begin{bmatrix}
            x(t),
            y(t),
            z(t),
            \phi(t),
            \theta(t),
            \psi(t),
            x'(t),
            y'(t),
            z'(t),
            \phi_{\cdot}'(t),
            \theta_{\cdot}'(t),
            \psi_{\cdot}'(t)
          \end{bmatrix}
        \]
      </div>
      <p>
        where \(x(t), y(t), z(t)\) denote the drone's positional coordinates in
        space, \(\phi(t), \theta(t), \psi(t)\) stand for rotational angles
        around the \(x\), \(y\) and \(z\)-axes, and \(x'(t), y'(t), z'(t)\)
        represent linear velocities, i.e. the first derivative of the position,
        along the \(x\), \(y\) and \(z\)-axes. The rotational velocities within
        the drone's frame of reference are denoted by \(\phi_{\cdot}'(t),
        \theta_{\cdot}'(t), \psi_{\cdot}'(t)\).
      </p>

      <figure>
        <div style="border: 1px solid #000; margin-top: 6px; overflow: hidden">
          <img
            src="3d_system.svg"
            alt="Three-dimensional coordinate system, illustrating axis and rotational angles in space"
            style="
              max-width: 100%;
              max-height: 100%;
              display: block;
              margin: auto;
            "
          />
        </div>
        <figcaption>
          Three-dimensional coordinate system, illustrating axis and rotational
          angles in space
        </figcaption>
      </figure>

      <p>
        A counterclockwise rotation of any vector around the \(x\), \(y\) or
        \(z\)-axis by some angle \(\alpha\) is done through multiplying it from
        the right to \(R_x(\alpha)\), \(R_y(\alpha)\) or \(R_z(\alpha)\).
      </p>
      <!-- prettier-ignore -->
      <div class="equation">
        \[
        \begin{array}{cc}
        R_x(\alpha) =
        \begin{bmatrix}
        1 & 0 & 0 \\
        0 & \cos(\alpha) & -\sin(\alpha) \\
        0 & \sin(\alpha) & \cos(\alpha) \\
        \end{bmatrix} &
        R_y(\alpha) =
        \begin{bmatrix}
        \cos(\alpha) & 0 & \sin(\alpha) \\
        0 & 1 & 0 \\
        -\sin(\alpha) & 0 & \cos(\alpha) \\
        \end{bmatrix}
        \end{array}
        \]
        \[
        R_z(\alpha) =
        \begin{bmatrix}
        \cos(\alpha) & -\sin(\alpha) & 0 \\
        \sin(\alpha) & \cos(\alpha) & 0 \\
        0 & 0 & 1 \\
        \end{bmatrix}
        \]              
      </div>
      <h2>Dynamics Formulation</h2>
      <p>
        The dynamics of the drone are characterized by how its state
        \(\mathbf{X}(t)\) evolves through time under the influence of forces.
        The thrusts and moments follow a quadratic relationship with rotor
        velocities (\(\omega_{i}\)), which is derived from the principles of
        fluid dynamics.
      </p>
      <div class="equation">
        \[ F_{i\cdot}(t) = k_{f} (\omega_{i\cdot}(t))^2 \qquad M_{i\cdot}(t) =
        k_{m} (\omega_{i\cdot}(t))^2 \]
      </div>
      <p>
        Changes in the drone's position (\(x(t), y(t), z(t)\)) are derived from
        the integration of velocities (\(x'(t), y'(t), z'(t)\)), which in turn
        stem from the integration of accelerations (\(x''(t), y''(t), z''(t)\)),
        i.e. the second derivative of the position. These accelerations are
        calculated using Newton's second law of motion
        <a href="#newton1687">2</a>, with \(g\) being earth's gravitational
        constant \( 9.81 \frac{m}{s^2} \). Through rotating the vector of linear
        acceleration from within the drone's frame of reference by the angles
        \(\phi(t), \theta(t), \psi(t)\), we obtain the vector of linear
        acceleration in the world's frame of reference.
      </p>
      <!-- prettier-ignore -->
      <div class="equation">
        \[
        \begin{align*}
          \begin{bmatrix}
            x''(t) \\
            y''(t) \\
            z''(t)
          \end{bmatrix} &=
          \left(
          \left(
          R_x(\phi(t))
          R_y(\theta(t))
          R_z(\psi(t))\right)^T
          \begin{bmatrix}
            0 \\
            \frac{1}{m}\sum_i^4 F_{i\cdot}(t) \\
            0
          \end{bmatrix}
          \right)
          + 
          \begin{bmatrix}
            0 \\
            -g \\
            0
          \end{bmatrix}
        \end{align*}
        \]        
      </div>

      <figure>
        <div style="border: 1px solid #000; margin-top: 6px; overflow: hidden">
          <img
            src="3d_drone.svg"
            alt="Drone at \(X = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\). The drone's and
            the world's frame of reference are perfectly aligned."
            style="
              max-width: 100%;
              max-height: 100%;
              display: block;
              margin: auto;
            "
          />
        </div>
        <figcaption>
          Drone at \(\mathbf{X}(0) = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\). The
          drone's and the world's frame of reference are perfectly aligned.
        </figcaption>
      </figure>

      We define the torques within the drones frame of reference according to
      the principles of Archimedes <a href="#archimedes250bc">3</a>.
      <!-- prettier-ignore -->
      <div class="equation">
        \[
        \begin{align*}
          \tau_{x\cdot}(t) &= -l \cdot (F_{3\cdot}(t) + F_{4\cdot}(t) - F_{2\cdot}(t) - F_{1\cdot}(t)) \\
          \tau_{y\cdot}(t) &= -(M_{1\cdot}(t) + M_{3\cdot}(t) - M_{2\cdot}(t) - M_{4\cdot}(t)) \\
          \tau_{z\cdot}(t) &= -l \cdot (F_{2\cdot}(t) + F_{3\cdot}(t) - F_{1\cdot}(t) - F_{4\cdot}(t))
        \end{align*}
        \]
      </div>

      <p>
        By rearranging Euler's equations of rotation
        <a href="#euler1768">1</a> we obtain the angular acceleration within the
        drone's frame of reference.
      </p>

      <!-- prettier-ignore -->
      <div class="equation">
        \[
        \begin{align*}
          \begin{bmatrix}
            \tau_{x\cdot}(t) \\
            \tau_{y\cdot}(t) \\
            \tau_{z\cdot}(t)
          \end{bmatrix} &=
          \begin{bmatrix}
            I_{x\cdot} & 0 & 0 \\
            0 & I_{y\cdot} & 0 \\
            0 & 0 & I_{z\cdot}
          \end{bmatrix}
          \begin{bmatrix}
            \phi_{\cdot}''(t) \\
            \theta_{\cdot}''(t) \\
            \psi_{\cdot}''(t)
          \end{bmatrix}
          +
          \begin{bmatrix}
            \phi_{\cdot}'(t) \\
            \theta_{\cdot}'(t) \\
            \psi_{\cdot}'(t)
          \end{bmatrix}
          \times
          \left(
            \begin{bmatrix}
              I_{x\cdot} & 0 & 0 \\
              0 & I_{y\cdot} & 0 \\
              0 & 0 & I_{z\cdot}
            \end{bmatrix}
            \begin{bmatrix}
              \phi_{\cdot}'(t) \\
              \theta_{\cdot}'(t) \\
              \psi_{\cdot}'(t)
            \end{bmatrix}
          \right) \\
          \begin{bmatrix} 
          \phi_{\cdot}''(t) \\
          \theta_{\cdot}''(t) \\
          \psi_{\cdot}''(t)
          \end{bmatrix} &=
          \begin{bmatrix} 
            \frac{1}{I_{x\cdot}} & 0 & 0 \\ 
            0 & \frac{1}{I_{y\cdot}} & 0 \\ 
            0 & 0 & \frac{1}{I_{z\cdot}} 
          \end{bmatrix}
          \left( 
            \begin{bmatrix} 
              \tau_{x\cdot}(t) \\
              \tau_{y\cdot}(t) \\
              \tau_{z\cdot}(t)
            \end{bmatrix} - 
            \begin{bmatrix} 
              \phi_{\cdot}'(t) \\
              \theta_{\cdot}'(t) \\
              \psi_{\cdot}'(t)
            \end{bmatrix} \times 
            \left( 
              \begin{bmatrix} 
                I_{x\cdot} & 0 & 0 \\ 
                0 & I_{y\cdot} & 0 \\ 
                0 & 0 & I_{z\cdot} 
              \end{bmatrix} 
              \begin{bmatrix} 
                \phi_{\cdot}'(t) \\
                \theta_{\cdot}'(t) \\
                \psi_{\cdot}'(t)
              \end{bmatrix} 
            \right) 
          \right)
        \end{align*}
      \]
      </div>
      <p>
        We now need to express the angular velocities in the world's frame of
        reference.
      </p>
      <!-- prettier-ignore -->
      <div class="equation">
        \[
        \begin{align*}
          \begin{bmatrix}
            \phi'(t) \\
            \theta'(t) \\
            \psi'(t)
          \end{bmatrix}
          &= 
          \left(
            R_x(\phi)
            R_y(\theta)
            R_z(\psi)\right)^T
          \begin{bmatrix}
            \phi_{\cdot}'(t) \\
            \theta_{\cdot}'(t) \\
            \psi_{\cdot}'(t)
          \end{bmatrix}
        \end{align*}
        \]
      </div>

      <h2>State Evolution</h2>
      <p>
        The state of the drone at time \( t_2 \) is determined by the sum of its
        current state \( \mathbf{X}(t_1) \) and the integral of the state's time
        derivative \( \mathbf{X}'(t_1) \) over the interval \( t_2 - t_1 \).
        This integral represents a precise calculation of the state change.
        However, for small intervals, we assume a constant rate of change,
        simplifying the integral to a product.
      </p>
      <div class="equation">
        \[ \mathbf{X}(t_2) = \mathbf{X}(t_1) + \int_{t_1}^{t_2} \mathbf{X}'(t)
        dt \approx \mathbf{X}(t_1) + (t_2 - t_1)\mathbf{X}'(t_1) \]
      </div>
    </section>

    <h5 class="references">References</h5>
    <div class="references">
      <cite id="euler1768">
        Euler, L. (1770). Institutiones calculi integralis
      </cite>
      <cite id="newton1687">
        Newton, I. (1687). Philosopsiæ Naturalis Principia Mathematica
      </cite>
      <cite id="archimedes250bc">
        Archimedes (ca. 250 BC). Περὶ ἐπιπέδων ἰσορροπιῶν
      </cite>
    </div>
  </body>
</html>
